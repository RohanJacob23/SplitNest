import{j as e}from"./motion-DC4U2J0c.js";import{I as j,G as n,a as y,C as o,d,e as m,g as v,f,B as p,t as u}from"./index-C7VtW-_9.js";import{u as x}from"./useMutation-BTpNxzfg.js";import{B as C}from"./lucidReact-bXZfAhMw.js";import"./gsap-CH_iu5NA.js";import"./orpc-CKyNAsGy.js";const b=function(){const{data:c}=j(n.invites.get.queryOptions()),t=y(),a=x(n.invites.accept.mutationOptions()),r=x(n.invites.decline.mutationOptions()),g=s=>{u.promise(a.mutateAsync({inviteId:s}),{loading:"Accepting invite...",success:({message:i})=>(t.invalidateQueries({queryKey:n.invites.get.queryKey()}),t.invalidateQueries({queryKey:n.spaces.get.all.queryKey()}),i),error:"Error accepting invite"})},h=s=>{u.promise(r.mutateAsync({inviteId:s}),{loading:"Declining invite...",success:({message:i})=>(t.invalidateQueries({queryKey:n.invites.get.queryKey()}),i),error:"Error declining invite"})};return e.jsx("section",{className:"mx-auto w-full max-w-7xl space-y-6 p-4",children:e.jsxs(o,{children:[e.jsx(d,{children:e.jsxs(m,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(C,{className:"size-5 text-emerald-500"})," Notifications"]})}),e.jsxs(v,{className:"border-t pt-4",children:[c.length===0&&e.jsx("h1",{className:"text-muted-foreground text-xl",children:"No notifications"}),c.map(s=>{var i,l;return e.jsx(o,{children:e.jsxs(d,{className:"flex flex-col items-center justify-between gap-2 sm:flex-row",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{children:["Space: ",s.space.name]}),e.jsxs(f,{children:["Adimin:"," ",e.jsxs("span",{className:"inline-flex gap-1",children:[e.jsx("span",{children:(i=s.space.owner)==null?void 0:i.name}),e.jsx("span",{children:(l=s.space.owner)==null?void 0:l.email})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{size:"sm",disabled:a.isPending||r.isPending,onClick:()=>g(s.id),children:"Accept"}),e.jsx(p,{size:"sm",variant:"outline",disabled:a.isPending||r.isPending,onClick:()=>h(s.id),children:"Decline"})]})]})},s.id)})]})]})})};export{b as component};
